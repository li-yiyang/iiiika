(function(jscl){
'use strict';
(function(values, internals){
var l1=internals.intern('*PACKAGE*','COMMON-LISP');
var l2=internals.intern('IIIIKA/WEB','KEYWORD');
l2.value=l2;
var l3=internals.intern('FIND-PACKAGE-OR-FAIL');
l1.value=l3.fvalue(internals.pv,l2);
var l4=internals.intern('*USER-DEFINED-RULE-LIST*','IIIIKA/WEB');
var l5=internals.intern('NIL','COMMON-LISP');
var l6=internals.make_lisp_string('vardoc');
var l7=internals.make_lisp_string('User defined rule list.\n\nWithin the list is\n\n   (char rule)\n\n');
l4.value=l5.value;
(function(){var OBJ=l4;
var TMP=OBJ[internals.xstring(l6)]=internals.lisp_to_js(l7);
return TMP===undefined?l5.value:TMP;
})();
l4;
var l8=internals.intern('UPDATE-RULE','IIIIKA/WEB');
var l9=internals.intern('*HANDLER-BINDINGS*');
var l10=internals.intern('INVALID-RULE','IIIIKA');
var l11=internals.intern('T','COMMON-LISP');
var l12=internals.make_lisp_string('message');
var l13=internals.intern('%%ERROR');
var l14=internals.intern('IKASU','IIIIKA');
var l15=internals.intern('ARRAY->LIST','IIIIKA/WEB');
var l16=internals.intern('DEFINE-RULE','IIIIKA');
var l17=internals.intern('MEMBER','COMMON-LISP');
var l18=internals.intern('PRINT','COMMON-LISP');
l8.fvalue=(function(){var FUNC=(function JSCL_USER_UPDATERULE(values,v1,v2){internals.checkArgs(arguments.length-1,2);
var v3=this;
return (function(){return (function(){try{var v5=[];
return (function(v6){return (function(){var v7=1;
var v8=[];
TBLOOP:while (true){try{switch(v7){case 1:(function(v9){return internals.bindSpecialBindings([l9],[v9],(function(){(function(){var v11=new internals.Cons(l10,(function JSCL_USER_NIL(values,v12){internals.checkArgs(arguments.length-1,1);
var v13=this;
v6=v12;
return (function(){throw new internals.TagNLX(v8,2);
})();
}));
var v14=new internals.Cons(v11,internals.symbolValue(l9));
return l9.value=v14;
})();
return (function(){try{return (function(){var values=internals.mv;
throw new internals.BlockNLX(v5,(l16.fvalue(internals.pv,v1,l15.fvalue(internals.pv,l14.fvalue(internals.pv,v2)),l11.value),(function(){var v18=v1;
var v19=internals.symbolValue(l4);
return l17.fvalue(internals.pv,v18,v19)!==l5.value?v19:(function(v20){return l4.value=v20;
})(new internals.Cons(v18,internals.symbolValue(l4)));
})(),l11.value),'G41');
})();
}catch (v15){v15=internals.js_to_lisp(v15);
return (internals.isNLX(v15)?l11.value:l5.value)!==l5.value?(function(){throw v15;
})():l13.fvalue(internals.pv,(function(v16){return v16!==l5.value?v16:v15;
})(internals.js_to_lisp((function(){var TMP=v15[internals.xstring(l12)];
return TMP===undefined?l5.value:TMP;
})())));
}})();
}));
})(internals.symbolValue(l9));
case 2:(function(){var values=internals.mv;
throw new internals.BlockNLX(v5,(function(v21){return l18.fvalue(values,v21);
})(v6),'G41');
})();
default:break TBLOOP;
}}catch (JUMP){if (JUMP instanceof internals.TagNLX&&JUMP.id==v8) v7=JUMP.label;
 else throw JUMP;
}}return l5.value;
})();
})(l5.value);
}catch (CF){if (CF instanceof internals.BlockNLX&&CF.id==v5) return values.apply(this,internals.forcemv(CF.values));
 else throw CF;
}})();
})();
});
FUNC.fname='UPDATE-RULE';
FUNC.docstring="Update rule and pushnew to `*user-defined-rule-list*'.\nReturn `T' if `rule' is valid, `NIL' if not.\n\nArguments:\n+ `char' from character\n+ `rule' a string\n";
return FUNC;
})();
l8;
var l19=internals.intern('UPDATE-IKASU','IIIIKA/WEB');
var l20=internals.intern('FALLBACK','KEYWORD');
l20.value=l20;
var l21=internals.make_lisp_string('???');
var l22=internals.intern('EDITABLE','KEYWORD');
l22.value=l22;
var l23=internals.intern('TOOLTIP','KEYWORD');
l23.value=l23;
var l24=internals.intern('GET-ELEM-BY-ID','IIIIKA/WEB');
var l25=internals.make_lisp_string('value');
var l26=internals.intern('(SETF_INNER-HTML)','IIIIKA/WEB');
var l27=internals.make_lisp_string('');
var l28=internals.intern('LENGTH','COMMON-LISP');
var l29=internals.intern('ZEROP','COMMON-LISP');
var l30=internals.intern('CHAR=','COMMON-LISP');
var l31=internals.make_lisp_string('span');
var l32=internals.make_lisp_string(' ');
var l33=internals.intern('CREATE-ELEM','IIIIKA/WEB');
var l34=internals.intern('APPEND-CHILDREN','IIIIKA/WEB');
var l35=internals.intern('FIND-CHARACTER','IIIIKA');
var l36=internals.make_lisp_string('~C');
var l37=internals.intern('FORMAT','COMMON-LISP');
var l38=internals.make_lisp_string('span');
var l39=internals.intern('ATTACH-TOOLTIP','IIIIKA/WEB');
var l40=internals.make_lisp_string('~C');
var l41=internals.make_lisp_string('span');
var l42=internals.make_lisp_string('editable');
var l43=internals.intern('ADD-CSS-CLASS','IIIIKA/WEB');
var l44=internals.intern('*SELF*','IIIIKA/WEB');
var l45=internals.make_lisp_string('click');
var l46=internals.intern('DEFINE-RULE','IIIIKA/WEB');
var l47=internals.intern('ADD-EVENT-LISTENER','IIIIKA/WEB');
var l48=internals.make_lisp_string('unknown');
var l49=internals.intern('GETUI','IIIIKA/WEB');
var l50=internals.make_lisp_string('~C');
var l51=internals.intern('IKASU-CHAR','IIIIKA');
var l52=internals.intern('MAP','COMMON-LISP');
var l53=internals.make_lisp_string('span');
var l54=internals.make_lisp_string(' ');
var l55=internals.intern('NORMAL','KEYWORD');
l55.value=l55;
var l56=internals.intern('KEYBOARD','KEYWORD');
l56.value=l56;
var l57=internals.intern('SPACE','KEYWORD');
l57.value=l57;
var l58=internals.QIList(l55,l56,l57,l5);
var l59=internals.make_lisp_string('span');
var l60=internals.make_lisp_string('span');
var l61=internals.make_lisp_string('~C');
var l62=internals.intern('FIRST','COMMON-LISP');
var l63=internals.intern('LIST','COMMON-LISP');
l19.fvalue=(function(){var FUNC=(function JSCL_USER_UPDATEIKASU(values,v22,v23){internals.checkArgsAtLeast(arguments.length-1,2);
var v24;
var v25;
var v26;
var I;
for (I=2;I<arguments.length-1;I+=2)if (arguments[I+1]===l20.value) {v24=arguments[I+1+1];
break;
}if (I==arguments.length-1) v24=l21;
for (I=2;I<arguments.length-1;I+=2)if (arguments[I+1]===l22.value) {v25=arguments[I+1+1];
break;
}if (I==arguments.length-1) v25=l5.value;
for (I=2;I<arguments.length-1;I+=2)if (arguments[I+1]===l23.value) {v26=arguments[I+1+1];
break;
}if (I==arguments.length-1) v26=l11.value;
var START=2;
if ((arguments.length-1-START)%2==1) throw 'Odd number of keyword arguments.';
for (I=START;I<arguments.length-1;I+=2)if (arguments[I+1]!==l20.value&&arguments[I+1]!==l22.value&&arguments[I+1]!==l23.value) throw 'Unknown keyword argument '+arguments[I+1]['name'];
var v27=this;
return (function(){return (function(){var v30=l24.fvalue(internals.pv,v22);
var v31=l24.fvalue(internals.pv,v23);
var v32=internals.js_to_lisp((function(){var TMP=v30[internals.xstring(l25)];
return TMP===undefined?l5.value:TMP;
})());
(function(){var v34=v31;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v36){switch(arguments.length-1){case 0:v36=l5.value;
;
default:break;
}var v35=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v35=new internals.Cons(arguments[I+1],v35);
var v37=this;
return l26.fvalue(values,v36,v31);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l29.fvalue(internals.pv,l28.fvalue(internals.pv,v32))!==l5.value?(function(){var v39=v31;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v41){switch(arguments.length-1){case 0:v41=l5.value;
;
default:break;
}var v40=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v40=new internals.Cons(arguments[I+1],v40);
var v42=this;
return l26.fvalue(values,v41,v31);
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=v24;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})():v25!==l5.value?(function(v43){return l52.fvalue(values,l5.value,(function JSCL_USER_NIL(values,v44){internals.checkArgs(arguments.length-1,1);
var v45=this;
return (function(v46){return v46!==l5.value?v46:l30.fvalue(internals.pv,v44,' ');
})(l30.fvalue(internals.pv,v44,'\n'))!==l5.value?v43!==l5.value?l5.value:((function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v49){switch(arguments.length-1){case 0:v49=l5.value;
;
default:break;
}var v48=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v48=new internals.Cons(arguments[I+1],v48);
var v50=this;
return v43=v49;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l11.value;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),l34.fvalue(values,v31,l33.fvalue(internals.pv,l31,l32))):((function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v53){switch(arguments.length-1){case 0:v53=l5.value;
;
default:break;
}var v52=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v52=new internals.Cons(arguments[I+1],v52);
var v54=this;
return v43=v53;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l5.value;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),l35.fvalue(internals.pv,v44)!==l5.value?(function(){var v56=l37.fvalue(internals.pv,l5.value,l36,v44);
var v57=l33.fvalue(internals.pv,l38,v56);
l39.fvalue(internals.pv,v57,v56);
return l34.fvalue(values,v31,v57);
})():(function(){var FUNC=(function JSCL_USER_NIL(values,v59,v60){switch(arguments.length-1){case 0:v59=l5.value;
;
case 1:v60=l5.value;
;
default:break;
}var v58=l5.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v58=new internals.Cons(arguments[I+1],v58);
var v61=this;
return (function(){var v63=v60!==l5.value?l37.fvalue(internals.pv,l5.value,l40,v44):v59;
var v64=l33.fvalue(internals.pv,l41,v63);
l43.fvalue(internals.pv,v64,l42);
(function(){var v65=[];
try{var v66=v64;
var v67=v66;
l44.stack.push(l44.value);
v65.push(l44);
l44.value=v67;
return l47.fvalue(internals.pv,v66,l45,(function JSCL_USER_NIL(values,v68){internals.checkArgs(arguments.length-1,1);
var v69=this;
return l46.fvalue(values,v44);
}));
}finally{v65.forEach((function(S){S.value=S.stack.pop();
}));
}})();
if (v60!==l5.value) l43.fvalue(internals.pv,v64,l48);
 else l5.value;
if (v26!==l5.value) if (v60!==l5.value) l39.fvalue(internals.pv,v64,l49.fvalue(internals.pv,v60));
 else l39.fvalue(internals.pv,v64,l37.fvalue(internals.pv,l5.value,l50,v44));
 else l5.value;
return l34.fvalue(values,v31,v64);
})();
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l51.fvalue(values,v44);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})());
}),v32);
})(l5.value):v26!==l5.value?(function(v70){return l52.fvalue(values,l5.value,(function JSCL_USER_NIL(values,v71){internals.checkArgs(arguments.length-1,1);
var v72=this;
return (function(v73){return v73!==l5.value?v73:l30.fvalue(internals.pv,v71,' ');
})(l30.fvalue(internals.pv,v71,'\n'))!==l5.value?v70!==l5.value?l5.value:((function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v76){switch(arguments.length-1){case 0:v76=l5.value;
;
default:break;
}var v75=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v75=new internals.Cons(arguments[I+1],v75);
var v77=this;
return v70=v76;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l11.value;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),(function(v78){l39.fvalue(internals.pv,v78,l49.fvalue(internals.pv,l58));
return l34.fvalue(values,v31,v78);
})(l33.fvalue(internals.pv,l53,l54))):((function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v81){switch(arguments.length-1){case 0:v81=l5.value;
;
default:break;
}var v80=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v80=new internals.Cons(arguments[I+1],v80);
var v82=this;
return v70=v81;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l5.value;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),(function(){var FUNC=(function JSCL_USER_NIL(values,v84,v85){switch(arguments.length-1){case 0:v84=l5.value;
;
case 1:v85=l5.value;
;
default:break;
}var v83=l5.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v83=new internals.Cons(arguments[I+1],v83);
var v86=this;
return v85!==l5.value?(function(v87){l39.fvalue(internals.pv,v87,l49.fvalue(internals.pv,v85));
return l34.fvalue(values,v31,v87);
})(l33.fvalue(internals.pv,l59,v84)):l52.fvalue(values,l5.value,(function JSCL_USER_NIL(values,v88){internals.checkArgs(arguments.length-1,1);
var v89=this;
return (function(v90){return (function(){var FUNC=(function JSCL_USER_NIL(values,v92,v93){switch(arguments.length-1){case 0:v92=l5.value;
;
case 1:v93=l5.value;
;
default:break;
}var v91=l5.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v91=new internals.Cons(arguments[I+1],v91);
var v94=this;
l39.fvalue(internals.pv,v90,l49.fvalue(internals.pv,l63.fvalue(internals.pv,l62.fvalue(internals.pv,v93),l56.value,v88)));
return l34.fvalue(values,v31,v90);
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l35.fvalue(values,v88);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(l33.fvalue(internals.pv,l60,l37.fvalue(internals.pv,l5.value,l61,v88)));
}),v84);
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l51.fvalue(values,v71);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})());
}),v32);
})(l5.value):(function(){var v96=v31;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v98){switch(arguments.length-1){case 0:v98=l5.value;
;
default:break;
}var v97=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v97=new internals.Cons(arguments[I+1],v97);
var v99=this;
return l26.fvalue(values,v98,v31);
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l14.fvalue(values,v32);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})();
})();
});
FUNC.fname='UPDATE-IKASU';
FUNC.docstring="Get original `from-id' <input> value and update `to-id' contents.\n\nArguments:\n+ `from-id'  a HTML <input> obj\n+ `to-id'    a HTML <div> or <span> obj\n+ `fallback' a string for ikasu fallback value\n+ `editable' if `T', can be clicked to defrule\n+ `tooltip'  if `T', will add a tooltip for character\n";
return FUNC;
})();
l19;
var l64=internals.intern('*WIDGETS*','IIIIKA/WEB');
var l65=internals.make_lisp_string('Stack of current widgets lists. ');
l64.value=l5.value;
(function(){var OBJ=l64;
var TMP=OBJ[internals.xstring(l6)]=internals.lisp_to_js(l65);
return TMP===undefined?l5.value:TMP;
})();
l64;
var l66=internals.intern('SHOW-WIDGET','IIIIKA/WEB');
var l67=internals.intern('HIDE-ELEM','IIIIKA/WEB');
var l68=internals.make_lisp_string('mask');
var l69=internals.intern('SHOW-ELEM','IIIIKA/WEB');
l66.fvalue=(function(){var FUNC=(function JSCL_USER_SHOWWIDGET(values,v100){internals.checkArgs(arguments.length-1,1);
var v101=this;
return (function(){(function(){return (function(v104,v105){(function(){while (v104!==l5.value){v105=internals.car(v104);
l67.fvalue(internals.pv,l24.fvalue(internals.pv,v105));
l5.value;
v104=internals.cdr(v104);
}return l5.value;
})();
return l5.value;
})(internals.symbolValue(l64),l5.value);
})();
(function(){var v107=v100;
var v108=new internals.Cons(v107,internals.symbolValue(l64));
return l64.value=v108;
})();
l69.fvalue(internals.pv,l24.fvalue(internals.pv,l68));
return l69.fvalue(values,l24.fvalue(internals.pv,v100));
})();
});
FUNC.fname='SHOW-WIDGET';
FUNC.docstring="Popup widget with id, push widget-id to `*widgets*'. ";
return FUNC;
})();
l66;
var l70=internals.intern('HIDE-WIDGET','IIIIKA/WEB');
var l71=internals.intern('ENDP','COMMON-LISP');
var l72=internals.make_lisp_string('mask');
l70.fvalue=(function(){var FUNC=(function JSCL_USER_HIDEWIDGET(values,v109){internals.checkArgs(arguments.length-1,1);
var v110=this;
return (function(){(function(){var v113=internals.symbolValue(l64);
var v114=internals.cdr(v113);
l64.value=v114;
return internals.car(v113);
})();
l67.fvalue(internals.pv,l24.fvalue(internals.pv,v109));
return l71.fvalue(internals.pv,internals.symbolValue(l64))!==l5.value?l67.fvalue(values,l24.fvalue(internals.pv,l72)):l66.fvalue(values,(function(){var v116=internals.symbolValue(l64);
var v117=internals.cdr(v116);
l64.value=v117;
return internals.car(v116);
})());
})();
});
FUNC.fname='HIDE-WIDGET';
FUNC.docstring="Hide widget with id, pop `*widgets*' list.\nIf `*widgets*' is empty list, hide mask. ";
return FUNC;
})();
l70;
var l73=internals.intern('*KBD-WIDTH*','IIIIKA/WEB');
var l74=internals.make_lisp_string('Number of keyboard buttons for single line. ');
l73.value=8;
(function(){var OBJ=l73;
var TMP=OBJ[internals.xstring(l6)]=internals.lisp_to_js(l74);
return TMP===undefined?l5.value:TMP;
})();
l73;
var l75=internals.intern('APPEND-INPUT','IIIIKA/WEB');
var l76=internals.make_lisp_string('value');
var l77=internals.make_lisp_string('~A~C');
var l78=internals.make_lisp_string('value');
l75.fvalue=(function(){var FUNC=(function JSCL_USER_APPENDINPUT(values,v118,v119,v120){internals.checkArgsAtLeast(arguments.length-1,2);
internals.checkArgsAtMost(arguments.length-1,3);
switch(arguments.length-1){case 2:v120=l5.value;
;
default:break;
}var v121=this;
return (function(){return (function(v123){(function(){var v125=v123;
var v126=l76;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v128){switch(arguments.length-1){case 0:v128=l5.value;
;
default:break;
}var v127=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v127=new internals.Cons(arguments[I+1],v127);
var v129=this;
return (function(){var OBJ=v125;
var TMP=OBJ[internals.xstring(v126)]=internals.lisp_to_js(v128);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l37.fvalue(values,l5.value,l77,internals.js_to_lisp((function(){var TMP=v123[internals.xstring(l78)];
return TMP===undefined?l5.value:TMP;
})()),v119);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return v120!==l5.value?l19.fvalue(values,v118,v120):l5.value;
})(l24.fvalue(internals.pv,v118));
})();
});
FUNC.fname='APPEND-INPUT';
FUNC.docstring="Append `input' HTML <input> value with `char'.\nReturn the appended input value.\n\nArguments:\n+ `input' HTML <input> id\n+ `char'  character to be appended\n+ `ikasu-id' if provided, update the ikasu contents by `update-ikasu'\n";
return FUNC;
})();
l75;
var l79=internals.intern('UPDATE-KEYBOARD','IIIIKA/WEB');
var l80=internals.make_lisp_string('tr');
var l81=internals.make_lisp_string('td');
var l82=internals.make_lisp_string('~C');
var l83=internals.make_lisp_string('popup-button');
var l84=internals.make_lisp_string('click');
var l85=internals.make_lisp_string('tr');
var l86=internals.intern('MAPHASH','COMMON-LISP');
l79.fvalue=(function(){var FUNC=(function JSCL_USER_UPDATEKEYBOARD(values,v130,v131,v132,v133){internals.checkArgs(arguments.length-1,4);
var v134=this;
return (function(){return (function(v136,v137,v138){(function(){var v140=v130;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v142){switch(arguments.length-1){case 0:v142=l5.value;
;
default:break;
}var v141=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v141=new internals.Cons(arguments[I+1],v141);
var v143=this;
return l26.fvalue(values,v142,v130);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
l34.fvalue(internals.pv,v130,v137);
l86.fvalue(internals.pv,(function JSCL_USER_NIL(values,v144,v145){internals.checkArgs(arguments.length-1,2);
var v146=this;
return (function(v147){return (function(v148){l43.fvalue(internals.pv,v148,l83);
(function(){var v149=[];
try{var v150=v148;
var v151=v150;
l44.stack.push(l44.value);
v149.push(l44);
l44.value=v151;
return l47.fvalue(internals.pv,v150,l84,(function JSCL_USER_NIL(values,v152){internals.checkArgs(arguments.length-1,1);
var v153=this;
return l75.fvalue(values,v132,v147,v133);
}));
}finally{v149.forEach((function(S){S.value=S.stack.pop();
}));
}})();
l34.fvalue(internals.pv,v137,v148);
(function(){var v155=1;
var v156=(function(){var x1=v138;
if (typeof x1!='number') throw 'Not a number!';
var x2=v155;
if (typeof x2!='number') throw 'Not a number!';
return x1+x2;
})();
return v138=v156;
})();
return (function(){var x1=v138;
if (typeof x1!='number') throw 'Not a number!';
var x2=internals.symbolValue(l73);
if (typeof x2!='number') throw 'Not a number!';
return x1==x2?l11.value:l5.value;
})()!==l5.value?((function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v159){switch(arguments.length-1){case 0:v159=l5.value;
;
default:break;
}var v158=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v158=new internals.Cons(arguments[I+1],v158);
var v160=this;
return v137=v159;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l33.fvalue(values,l85,l27);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),(function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v163){switch(arguments.length-1){case 0:v163=l5.value;
;
default:break;
}var v162=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v162=new internals.Cons(arguments[I+1],v162);
var v164=this;
return v138=v163;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=0;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),l34.fvalue(values,v130,v137)):l5.value;
})(l33.fvalue(internals.pv,l81,l37.fvalue(internals.pv,l5.value,l82,v147)));
})(internals.char_from_codepoint(v144));
}),v131);
return v130;
})(l24.fvalue(internals.pv,v132),l33.fvalue(internals.pv,l80,l27),0);
})();
});
FUNC.fname='UPDATE-KEYBOARD';
FUNC.docstring="Clear the `kbd' <table> content and update buttons.\nReturn `kbd' itself.\n\nArguments:\n+ `kbd':       a HTML <table> obj, e.g. (get-elem-by-id kbd-id)\n+ `char-sets': a hashtable for keyboard buttons\n+ `input-id':  a HTML <input> for keyboard char output.\n";
return FUNC;
})();
l79;
var l87=internals.intern('CREATE-KEYBOARD','IIIIKA/WEB');
var l88=internals.make_lisp_string('table');
var l89=internals.make_lisp_string('id');
var l90=internals.make_lisp_string('popup-keyboard');
l87.fvalue=(function(){var FUNC=(function JSCL_USER_CREATEKEYBOARD(values,v165,v166,v167,v168){internals.checkArgs(arguments.length-1,4);
var v169=this;
return (function(){return (function(v171){(function(){var v173=v171;
var v174=l89;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v176){switch(arguments.length-1){case 0:v176=l5.value;
;
default:break;
}var v175=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v175=new internals.Cons(arguments[I+1],v175);
var v177=this;
return (function(){var OBJ=v173;
var TMP=OBJ[internals.xstring(v174)]=internals.lisp_to_js(v176);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v165;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
l43.fvalue(internals.pv,v171,l90);
return l79.fvalue(values,v171,v166,v167,v168);
})(l33.fvalue(internals.pv,l88,l27));
})();
});
FUNC.fname='CREATE-KEYBOARD';
FUNC.docstring="Create a keyboard with id `kbd-id'.\nReturn a <table> as keyboard.\n\nArguments:\n+ `kbd-id':   a string for the HTML obj id\n+ `char-set': a hashtable for keyboard buttons\n+ `input-id': a string for the HTML obj id to input\n";
return FUNC;
})();
l87;
var l91=internals.intern('SELECT-KEYBOARD','IIIIKA/WEB');
var l92=internals.make_lisp_string('button-popuped');
var l93=internals.intern('REMOVE-CSS-CLASS','IIIIKA/WEB');
var l94=internals.make_lisp_string('children');
var l95=internals.make_lisp_string('button-popuped');
var l96=internals.make_lisp_string('style');
var l97=internals.make_lisp_string('display');
var l98=internals.make_lisp_string('none');
var l99=internals.make_lisp_string('children');
var l100=internals.make_lisp_string('style');
var l101=internals.make_lisp_string('display');
var l102=internals.make_lisp_string('table');
l91.fvalue=(function(){var FUNC=(function JSCL_USER_SELECTKEYBOARD(values,v178,v179,v180,v181){internals.checkArgs(arguments.length-1,4);
var v182=this;
return (function(){l52.fvalue(internals.pv,l5.value,(function JSCL_USER_NIL(values,v184){internals.checkArgs(arguments.length-1,1);
var v185=this;
return l93.fvalue(values,v184,l92);
}),internals.js_to_lisp((function(){var TMP=l24.fvalue(internals.pv,v178)[internals.xstring(l94)];
return TMP===undefined?l5.value:TMP;
})()));
l43.fvalue(internals.pv,l24.fvalue(internals.pv,v179),l95);
l52.fvalue(internals.pv,l5.value,(function JSCL_USER_NIL(values,v186){internals.checkArgs(arguments.length-1,1);
var v187=this;
return (function(){var v189=internals.js_to_lisp((function(){var TMP=v186[internals.xstring(l96)];
return TMP===undefined?l5.value:TMP;
})());
var v190=l97;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v192){switch(arguments.length-1){case 0:v192=l5.value;
;
default:break;
}var v191=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v191=new internals.Cons(arguments[I+1],v191);
var v193=this;
return (function(){var OBJ=v189;
var TMP=OBJ[internals.xstring(v190)]=internals.lisp_to_js(v192);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l98;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
}),internals.js_to_lisp((function(){var TMP=l24.fvalue(internals.pv,v180)[internals.xstring(l99)];
return TMP===undefined?l5.value:TMP;
})()));
return (function(){var v195=internals.js_to_lisp((function(){var TMP=l24.fvalue(internals.pv,v181)[internals.xstring(l100)];
return TMP===undefined?l5.value:TMP;
})());
var v196=l101;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v198){switch(arguments.length-1){case 0:v198=l5.value;
;
default:break;
}var v197=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v197=new internals.Cons(arguments[I+1],v197);
var v199=this;
return (function(){var OBJ=v195;
var TMP=OBJ[internals.xstring(v196)]=internals.lisp_to_js(v198);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l102;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})();
});
FUNC.fname='SELECT-KEYBOARD';
FUNC.docstring="Select `kbd-id' keyboard.\nDisable all stat button in `kbd-sets-id' but `kbd-stat-id'. ";
return FUNC;
})();
l91;
var l103=internals.intern('TOGGLE-KEYBOARDS','IIIIKA/WEB');
var l104=internals.make_lisp_string('style');
var l105=internals.make_lisp_string('display');
var l106=internals.make_lisp_string('block');
var l107=internals.make_lisp_string('button-popuped');
var l108=internals.make_lisp_string('style');
var l109=internals.make_lisp_string('display');
var l110=internals.make_lisp_string('none');
var l111=internals.make_lisp_string('button-popuped');
var l112=internals.make_lisp_string('button-popuped');
var l113=internals.intern('HAS-CSS-CLASS-P','IIIIKA/WEB');
l103.fvalue=(function(){var FUNC=(function JSCL_USER_TOGGLEKEYBOARDS(values,v200,v201,v202){internals.checkArgsAtLeast(arguments.length-1,2);
internals.checkArgsAtMost(arguments.length-1,3);
var v203=l11.value;
switch(arguments.length-1){case 2:v202=l5.value;
v203=l5.value;
default:break;
}var v204=this;
return (function(){return (function(v206,v207){return (function(v224,v225){return v203!==l5.value?v202!==l5.value?v225(values):v224(values):l113.fvalue(internals.pv,v207,l112)!==l5.value?v225(values):v224(values);
})((function JSCL_USER_NIL(values){internals.checkArgsAtMost(arguments.length-1,0);
var v208=this;
return (function(){(function(){var v211=internals.js_to_lisp((function(){var TMP=v206[internals.xstring(l104)];
return TMP===undefined?l5.value:TMP;
})());
var v212=l105;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v214){switch(arguments.length-1){case 0:v214=l5.value;
;
default:break;
}var v213=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v213=new internals.Cons(arguments[I+1],v213);
var v215=this;
return (function(){var OBJ=v211;
var TMP=OBJ[internals.xstring(v212)]=internals.lisp_to_js(v214);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l106;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l43.fvalue(values,v207,l107);
})();
}),(function JSCL_USER_NIL(values){internals.checkArgsAtMost(arguments.length-1,0);
var v216=this;
return (function(){(function(){var v219=internals.js_to_lisp((function(){var TMP=v206[internals.xstring(l108)];
return TMP===undefined?l5.value:TMP;
})());
var v220=l109;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v222){switch(arguments.length-1){case 0:v222=l5.value;
;
default:break;
}var v221=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v221=new internals.Cons(arguments[I+1],v221);
var v223=this;
return (function(){var OBJ=v219;
var TMP=OBJ[internals.xstring(v220)]=internals.lisp_to_js(v222);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l110;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l93.fvalue(values,v207,l111);
})();
}));
})(l24.fvalue(internals.pv,v200),l24.fvalue(internals.pv,v201));
})();
});
FUNC.fname='TOGGLE-KEYBOARDS';
FUNC.docstring="If `stat-id' has CSS style `button-popuped', hide `kbd-div-id';\nor show `kbd-div-id' if not.\nReturn `T' for showing, `NIL' for hidding.\n\nArguments:\n+ `hide' to force show/hide keyboards. ";
return FUNC;
})();
l103;
var l114=internals.intern('CREATE-KEYBOARDS','IIIIKA/WEB');
var l115=internals.intern('BWD','KEYWORD');
l115.value=l115;
var l116=internals.intern('GETF','COMMON-LISP');
var l117=internals.make_lisp_string('~A~A');
var l118=internals.make_lisp_string('name');
var l119=internals.make_lisp_string('~A~A');
var l120=internals.make_lisp_string('button');
var l121=internals.make_lisp_string('id');
var l122=internals.make_lisp_string('popup-button');
var l123=internals.make_lisp_string('click');
var l124=internals.intern('*CHARACTER-SETS*','IIIIKA');
var l125=internals.make_lisp_string('~AHIRAGANA');
var l126=internals.make_lisp_string('~AHIRAGANA');
l114.fvalue=(function(){var FUNC=(function JSCL_USER_CREATEKEYBOARDS(values,v226,v227,v228,v229,v230){internals.checkArgsAtLeast(arguments.length-1,4);
internals.checkArgsAtMost(arguments.length-1,5);
switch(arguments.length-1){case 4:v230=l5.value;
;
default:break;
}var v231=this;
return (function(){return (function(v233,v234){if (v230!==l5.value) {(function(){var v236=v233;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v238){switch(arguments.length-1){case 0:v238=l5.value;
;
default:break;
}var v237=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v237=new internals.Cons(arguments[I+1],v237);
var v239=this;
return l26.fvalue(values,v238,v233);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v241=v234;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v243){switch(arguments.length-1){case 0:v243=l5.value;
;
default:break;
}var v242=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v242=new internals.Cons(arguments[I+1],v242);
var v244=this;
return l26.fvalue(values,v243,v234);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
} else l5.value;
l86.fvalue(internals.pv,(function JSCL_USER_NIL(values,v245,v246){internals.checkArgs(arguments.length-1,2);
var v247=this;
return (function(){var v249=l116.fvalue(internals.pv,v246,l115.value);
var v250=l37.fvalue(internals.pv,l5.value,l117,v226,internals.js_to_lisp((function(){var TMP=v245[internals.xstring(l118)];
return TMP===undefined?l5.value:TMP;
})()));
var v251=l37.fvalue(internals.pv,l5.value,l119,v227,internals.js_to_lisp((function(){var TMP=v245[internals.xstring(l118)];
return TMP===undefined?l5.value:TMP;
})()));
var v252=l33.fvalue(internals.pv,l120,l49.fvalue(internals.pv,v245));
var v253=l87.fvalue(internals.pv,v251,v249,v228,v229);
(function(){var v255=v252;
var v256=l121;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v258){switch(arguments.length-1){case 0:v258=l5.value;
;
default:break;
}var v257=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v257=new internals.Cons(arguments[I+1],v257);
var v259=this;
return (function(){var OBJ=v255;
var TMP=OBJ[internals.xstring(v256)]=internals.lisp_to_js(v258);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v250;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
l43.fvalue(internals.pv,v252,l122);
(function(){var v260=[];
try{var v261=v252;
var v262=v261;
l44.stack.push(l44.value);
v260.push(l44);
l44.value=v262;
return l47.fvalue(internals.pv,v261,l123,(function JSCL_USER_NIL(values,v263){internals.checkArgs(arguments.length-1,1);
var v264=this;
return l91.fvalue(values,v226,v250,v227,v251);
}));
}finally{v260.forEach((function(S){S.value=S.stack.pop();
}));
}})();
l34.fvalue(internals.pv,v233,v252);
return l34.fvalue(values,v234,v253);
})();
}),internals.symbolValue(l124));
return l91.fvalue(values,v226,l37.fvalue(internals.pv,l5.value,l125,v226),v227,l37.fvalue(internals.pv,l5.value,l126,v227));
})(l24.fvalue(internals.pv,v226),l24.fvalue(internals.pv,v227));
})();
});
FUNC.fname='CREATE-KEYBOARDS';
FUNC.docstring="Filling the `kbd-sets-id' by `iiiika::*characters*'. ";
return FUNC;
})();
l114;
var l127=internals.intern('ALERT','IIIIKA/WEB');
var l128=internals.intern('TITLE','KEYWORD');
l128.value=l128;
var l129=internals.intern('ALERT-TITLE','KEYWORD');
l129.value=l129;
var l130=internals.intern('BUTTON','KEYWORD');
l130.value=l130;
var l131=internals.intern('CONFIRM','KEYWORD');
l131.value=l131;
var l132=internals.make_lisp_string('alert-title');
var l133=internals.intern('(SETF_TEXT)','IIIIKA/WEB');
var l134=internals.make_lisp_string('alert-content');
var l135=internals.make_lisp_string('alert-button');
var l136=internals.make_lisp_string('alert');
l127.fvalue=(function(){var FUNC=(function JSCL_USER_ALERT(values,v265){internals.checkArgsAtLeast(arguments.length-1,1);
var v266;
var v267;
var I;
for (I=1;I<arguments.length-1;I+=2)if (arguments[I+1]===l128.value) {v266=arguments[I+1+1];
break;
}if (I==arguments.length-1) v266=l49.fvalue(internals.pv,l129.value);
for (I=1;I<arguments.length-1;I+=2)if (arguments[I+1]===l130.value) {v267=arguments[I+1+1];
break;
}if (I==arguments.length-1) v267=l49.fvalue(internals.pv,l131.value);
var START=1;
if ((arguments.length-1-START)%2==1) throw 'Odd number of keyword arguments.';
for (I=START;I<arguments.length-1;I+=2)if (arguments[I+1]!==l128.value&&arguments[I+1]!==l130.value) throw 'Unknown keyword argument '+arguments[I+1]['name'];
var v268=this;
return (function(){(function(){var v271=l24.fvalue(internals.pv,l132);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v273){switch(arguments.length-1){case 0:v273=l5.value;
;
default:break;
}var v272=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v272=new internals.Cons(arguments[I+1],v272);
var v274=this;
return l133.fvalue(values,v273,l24.fvalue(internals.pv,l132));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v266;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v276=l24.fvalue(internals.pv,l134);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v278){switch(arguments.length-1){case 0:v278=l5.value;
;
default:break;
}var v277=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v277=new internals.Cons(arguments[I+1],v277);
var v279=this;
return l133.fvalue(values,v278,l24.fvalue(internals.pv,l134));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v265;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v281=l24.fvalue(internals.pv,l135);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v283){switch(arguments.length-1){case 0:v283=l5.value;
;
default:break;
}var v282=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v282=new internals.Cons(arguments[I+1],v282);
var v284=this;
return l133.fvalue(values,v283,l24.fvalue(internals.pv,l135));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v267;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l66.fvalue(values,l136);
})();
});
FUNC.fname='ALERT';
FUNC.docstring='Popup alert. ';
return FUNC;
})();
l127;
var l137=internals.intern('BYNAME-SELECT','IIIIKA/WEB');
var l138=internals.make_lisp_string('byname-select-title');
var l139=internals.intern('BYNAME','KEYWORD');
l139.value=l139;
var l140=internals.make_lisp_string('byname-select-message');
var l141=internals.intern('CLICK','KEYWORD');
l141.value=l141;
var l142=internals.intern('TO','KEYWORD');
l142.value=l142;
var l143=internals.intern('CHOOSE','KEYWORD');
l143.value=l143;
var l144=internals.make_lisp_string('byname-select-list');
var l145=internals.make_lisp_string('li');
var l146=internals.make_lisp_string('click');
var l147=internals.intern('ADJ','KEYWORD');
l147.value=l147;
var l148=internals.make_lisp_string('byname-adj');
var l149=internals.make_lisp_string('byname-noun');
var l150=internals.make_lisp_string('mask');
var l151=internals.make_lisp_string('byname-select');
var l152=internals.make_lisp_string('appendChild');
var l153=internals.intern('*LANGUAGE*','IIIIKA/WEB');
var l154=internals.intern('*BYNAME*','IIIIKA/WEB');
var l155=internals.intern('GETHASH','COMMON-LISP');
var l156=internals.intern('AREF','COMMON-LISP');
var l157=internals.make_lisp_string('byname-select');
l137.fvalue=(function(){var FUNC=(function JSCL_USER_BYNAMESELECT(values,v285){internals.checkArgs(arguments.length-1,1);
var v286=this;
return (function(){(function(){var v289=l24.fvalue(internals.pv,l138);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v291){switch(arguments.length-1){case 0:v291=l5.value;
;
default:break;
}var v290=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v290=new internals.Cons(arguments[I+1],v290);
var v292=this;
return l133.fvalue(values,v291,l24.fvalue(internals.pv,l138));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l63.fvalue(internals.pv,l139.value,v285));
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v294=l24.fvalue(internals.pv,l140);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v296){switch(arguments.length-1){case 0:v296=l5.value;
;
default:break;
}var v295=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v295=new internals.Cons(arguments[I+1],v295);
var v297=this;
return l133.fvalue(values,v296,l24.fvalue(internals.pv,l140));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l63.fvalue(internals.pv,l141.value,l142.value,l143.value,l139.value,v285));
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(v298){(function(){var v300=v298;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v302){switch(arguments.length-1){case 0:v302=l5.value;
;
default:break;
}var v301=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v301=new internals.Cons(arguments[I+1],v301);
var v303=this;
return l26.fvalue(values,v302,v298);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l52.fvalue(internals.pv,l5.value,(function JSCL_USER_NIL(values,v304){internals.checkArgs(arguments.length-1,1);
var v305=this;
return (function(v306){(function(){var v307=[];
try{var v308=v306;
var v309=v308;
l44.stack.push(l44.value);
v307.push(l44);
l44.value=v309;
return l47.fvalue(internals.pv,v308,l146,(function JSCL_USER_NIL(values,v310){internals.checkArgs(arguments.length-1,1);
var v311=this;
(function(){var v313=l24.fvalue(internals.pv,(v285===l147.value?l11.value:l5.value)!==l5.value?l148:l149);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v315){switch(arguments.length-1){case 0:v315=l5.value;
;
default:break;
}var v314=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v314=new internals.Cons(arguments[I+1],v314);
var v316=this;
return l133.fvalue(values,v315,l24.fvalue(internals.pv,(v285===l147.value?l11.value:l5.value)!==l5.value?l148:l149));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v304;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
l67.fvalue(internals.pv,l24.fvalue(internals.pv,l150));
return l67.fvalue(values,l24.fvalue(internals.pv,l151));
}));
}finally{v307.forEach((function(S){S.value=S.stack.pop();
}));
}})();
return internals.js_to_lisp(v298[internals.xstring(l152)](internals.lisp_to_js(v306)));
})(l33.fvalue(internals.pv,l145,v304));
}),l156.fvalue(internals.pv,l155.fvalue(internals.pv,internals.symbolValue(l153),internals.symbolValue(l154)),(v285===l147.value?l11.value:l5.value)!==l5.value?0:1));
})(l24.fvalue(internals.pv,l144));
return l66.fvalue(values,l157);
})();
});
FUNC.fname='BYNAME-SELECT';
FUNC.docstring='Popup byname-select. ';
return FUNC;
})();
l137;
var l158=internals.intern('QUERY-NAME','IIIIKA/WEB');
var l159=internals.make_lisp_string('query-name-title');
var l160=internals.intern('USAGE','KEYWORD');
l160.value=l160;
var l161=internals.make_lisp_string('query-name-input');
var l162=internals.make_lisp_string('query-name-message');
var l163=internals.make_lisp_string('query-name-kbd');
var l164=internals.make_lisp_string('query-name-confirm');
var l165=internals.make_lisp_string('query-name-cancel');
var l166=internals.make_lisp_string('↓↓↓');
var l167=internals.make_lisp_string('value');
var l168=internals.make_lisp_string('placeholder');
var l169=internals.intern('NAME','KEYWORD');
l169.value=l169;
var l170=internals.intern('CANCEL','KEYWORD');
l170.value=l170;
var l171=internals.make_lisp_string('query-name-keyboard');
var l172=internals.make_lisp_string('query-name-kbd');
var l173=internals.make_lisp_string('query-name');
l158.fvalue=(function(){var FUNC=(function JSCL_USER_QUERYNAME(values){internals.checkArgsAtMost(arguments.length-1,0);
var v317=this;
return (function(){(function(){var v320=l24.fvalue(internals.pv,l159);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v322){switch(arguments.length-1){case 0:v322=l5.value;
;
default:break;
}var v321=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v321=new internals.Cons(arguments[I+1],v321);
var v323=this;
return l133.fvalue(values,v322,l24.fvalue(internals.pv,l159));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l160.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(v324,v325,v326,v327,v328){(function(){var v330=v325;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v332){switch(arguments.length-1){case 0:v332=l5.value;
;
default:break;
}var v331=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v331=new internals.Cons(arguments[I+1],v331);
var v333=this;
return l26.fvalue(values,v332,v325);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l166;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v335=v324;
var v336=l167;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v338){switch(arguments.length-1){case 0:v338=l5.value;
;
default:break;
}var v337=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v337=new internals.Cons(arguments[I+1],v337);
var v339=this;
return (function(){var OBJ=v335;
var TMP=OBJ[internals.xstring(v336)]=internals.lisp_to_js(v338);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v341=v324;
var v342=l168;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v344){switch(arguments.length-1){case 0:v344=l5.value;
;
default:break;
}var v343=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v343=new internals.Cons(arguments[I+1],v343);
var v345=this;
return (function(){var OBJ=v341;
var TMP=OBJ[internals.xstring(v342)]=internals.lisp_to_js(v344);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l169.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v347=v327;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v349){switch(arguments.length-1){case 0:v349=l5.value;
;
default:break;
}var v348=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v348=new internals.Cons(arguments[I+1],v348);
var v350=this;
return l133.fvalue(values,v349,v327);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l131.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v352=v326;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v354){switch(arguments.length-1){case 0:v354=l5.value;
;
default:break;
}var v353=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v353=new internals.Cons(arguments[I+1],v353);
var v355=this;
return l133.fvalue(values,v354,v326);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l56.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return (function(){var v357=v328;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v359){switch(arguments.length-1){case 0:v359=l5.value;
;
default:break;
}var v358=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v358=new internals.Cons(arguments[I+1],v358);
var v360=this;
return l133.fvalue(values,v359,v328);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l170.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})(l24.fvalue(internals.pv,l161),l24.fvalue(internals.pv,l162),l24.fvalue(internals.pv,l163),l24.fvalue(internals.pv,l164),l24.fvalue(internals.pv,l165));
l103.fvalue(internals.pv,l171,l172,l11.value);
return l66.fvalue(values,l173);
})();
});
FUNC.fname='QUERY-NAME';
FUNC.docstring="Like `query' but popup `query-name' widget.\n\nThe input name will be checked and goes to `query-name-message'\nwhile input, if fails, will goes like color red. ";
return FUNC;
})();
l158;
var l174=internals.intern('*DEFINE-RULE-STACK*','IIIIKA/WEB');
var l175=internals.make_lisp_string('Store currently editing char. ');
l174.value=l5.value;
(function(){var OBJ=l174;
var TMP=OBJ[internals.xstring(l6)]=internals.lisp_to_js(l175);
return TMP===undefined?l5.value:TMP;
})();
l174;
var l176=internals.make_lisp_string('defrule-input');
var l177=internals.make_lisp_string('defrule-from');
var l178=internals.make_lisp_string('defrule-to');
var l179=internals.make_lisp_string('defrule-kbd');
var l180=internals.make_lisp_string('defrule-confirm');
var l181=internals.make_lisp_string('defrule-cancel');
var l182=internals.make_lisp_string('value');
var l183=internals.make_lisp_string('~C');
var l184=internals.make_lisp_string('ロ');
var l185=internals.make_lisp_string('value');
var l186=internals.make_lisp_string('value');
var l187=internals.make_lisp_string('defrule-input');
var l188=internals.make_lisp_string('defrule-to');
var l189=internals.make_lisp_string('ロ');
var l190=internals.make_lisp_string('placeholder');
var l191=internals.intern('INPUT','KEYWORD');
l191.value=l191;
var l192=internals.intern('RULE','KEYWORD');
l192.value=l192;
var l193=internals.make_lisp_string('defrule-keyboard');
var l194=internals.make_lisp_string('defrule-kbd');
var l195=internals.make_lisp_string('defrule');
l46.fvalue=(function(){var FUNC=(function JSCL_USER_DEFINERULE(values,v361,v362){internals.checkArgsAtLeast(arguments.length-1,1);
internals.checkArgsAtMost(arguments.length-1,2);
switch(arguments.length-1){case 1:v362=l5.value;
;
default:break;
}var v363=this;
return (function(){(function(v365,v366,v367,v368,v369,v370){(function(){var FUNC=(function JSCL_USER_NIL(values,v372,v373){switch(arguments.length-1){case 0:v372=l5.value;
;
case 1:v373=l5.value;
;
default:break;
}var v371=l5.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v371=new internals.Cons(arguments[I+1],v371);
var v374=this;
if (l71.fvalue(internals.pv,internals.symbolValue(l174))!==l5.value) l5.value;
 else (function(v378){return (function(){var v380=l63.fvalue(internals.pv,v378,internals.js_to_lisp((function(){var TMP=v365[internals.xstring(l182)];
return TMP===undefined?l5.value:TMP;
})()));
var v381=new internals.Cons(v380,internals.symbolValue(l174));
return l174.value=v381;
})();
})(l62.fvalue(internals.pv,(function(){var v376=internals.symbolValue(l174);
var v377=internals.cdr(v376);
l174.value=v377;
return internals.car(v376);
})()));
(function(){var v383=l63.fvalue(internals.pv,v361,v373!==l5.value?(function(v384){return v384!==l5.value?v384:l27;
})(v362):v372);
var v385=new internals.Cons(v383,internals.symbolValue(l174));
return l174.value=v385;
})();
(function(){var v387=v366;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v389){switch(arguments.length-1){case 0:v389=l5.value;
;
default:break;
}var v388=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v388=new internals.Cons(arguments[I+1],v388);
var v390=this;
return l133.fvalue(values,v389,v366);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l37.fvalue(values,l5.value,l183,v361);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return v373!==l5.value?((function(){var v392=v367;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v394){switch(arguments.length-1){case 0:v394=l5.value;
;
default:break;
}var v393=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v393=new internals.Cons(arguments[I+1],v393);
var v395=this;
return l26.fvalue(values,v394,v367);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l184;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),(function(){var v397=v365;
var v398=l185;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v400){switch(arguments.length-1){case 0:v400=l5.value;
;
default:break;
}var v399=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v399=new internals.Cons(arguments[I+1],v399);
var v401=this;
return (function(){var OBJ=v397;
var TMP=OBJ[internals.xstring(v398)]=internals.lisp_to_js(v400);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=(function(v402){return v402!==l5.value?v402:l27;
})(v362);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})()):((function(){var v404=v367;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v406){switch(arguments.length-1){case 0:v406=l5.value;
;
default:break;
}var v405=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v405=new internals.Cons(arguments[I+1],v405);
var v407=this;
return l26.fvalue(values,v406,v367);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=v372;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})(),(function(){var v409=v365;
var v410=l186;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v412){switch(arguments.length-1){case 0:v412=l5.value;
;
default:break;
}var v411=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v411=new internals.Cons(arguments[I+1],v411);
var v413=this;
return (function(){var OBJ=v409;
var TMP=OBJ[internals.xstring(v410)]=internals.lisp_to_js(v412);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=(function(v414){return v414!==l5.value?v414:v372;
})(v362);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})());
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l51.fvalue(values,v361);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
l19.fvalue(internals.pv,l187,l188,l20.value,l189,l22.value,l11.value,l23.value,l11.value);
(function(){var v416=v365;
var v417=l190;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v419){switch(arguments.length-1){case 0:v419=l5.value;
;
default:break;
}var v418=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v418=new internals.Cons(arguments[I+1],v418);
var v420=this;
return (function(){var OBJ=v416;
var TMP=OBJ[internals.xstring(v417)]=internals.lisp_to_js(v419);
return TMP===undefined?l5.value:TMP;
})();
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l63.fvalue(internals.pv,l191.value,v361,l192.value));
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v422=v369;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v424){switch(arguments.length-1){case 0:v424=l5.value;
;
default:break;
}var v423=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v423=new internals.Cons(arguments[I+1],v423);
var v425=this;
return l133.fvalue(values,v424,v369);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l131.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v427=v368;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v429){switch(arguments.length-1){case 0:v429=l5.value;
;
default:break;
}var v428=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v428=new internals.Cons(arguments[I+1],v428);
var v430=this;
return l133.fvalue(values,v429,v368);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l56.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return (function(){var v432=v370;
return (function(){var FUNC=(function JSCL_USER_NIL(values,v434){switch(arguments.length-1){case 0:v434=l5.value;
;
default:break;
}var v433=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v433=new internals.Cons(arguments[I+1],v433);
var v435=this;
return l133.fvalue(values,v434,v370);
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l170.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})(l24.fvalue(internals.pv,l176),l24.fvalue(internals.pv,l177),l24.fvalue(internals.pv,l178),l24.fvalue(internals.pv,l179),l24.fvalue(internals.pv,l180),l24.fvalue(internals.pv,l181));
l103.fvalue(internals.pv,l193,l194,l11.value);
return l66.fvalue(values,l195);
})();
});
FUNC.fname='DEFINE-RULE';
FUNC.docstring="Popup define-rule widget for `char'. ";
return FUNC;
})();
l46;
var l196=internals.intern('CLOSE-DEFINE-RULE','IIIIKA/WEB');
var l197=internals.make_lisp_string('defrule');
var l198=internals.make_lisp_string('defrule');
l196.fvalue=(function(){var FUNC=(function JSCL_USER_CLOSEDEFINERULE(values,v436){internals.checkArgsAtMost(arguments.length-1,1);
switch(arguments.length-1){case 0:v436=l5.value;
;
default:break;
}var v437=this;
return (function(){if (v436!==l5.value) (function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v441){switch(arguments.length-1){case 0:v441=l5.value;
;
default:break;
}var v440=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v440=new internals.Cons(arguments[I+1],v440);
var v442=this;
return l174.value=v441;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l5.value;
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
 else (function(){var v444=internals.symbolValue(l174);
var v445=internals.cdr(v444);
l174.value=v445;
return internals.car(v444);
})();
l70.fvalue(internals.pv,l197);
if (l71.fvalue(internals.pv,internals.symbolValue(l174))!==l5.value) l5.value;
 else (function(){var F=internals.symbolFunction(l46);
var ARGS=[internals.pv];
var TAIL=(function(){var v447=internals.symbolValue(l174);
var v448=internals.cdr(v447);
l174.value=v448;
return internals.car(v447);
})();
while (TAIL!=l5.value){ARGS.push(TAIL.car);
TAIL=TAIL.cdr;
}return (typeof F==='function'?F:F.fvalue).apply(this,ARGS);
})();
return l71.fvalue(internals.pv,internals.symbolValue(l174))!==l5.value?l70.fvalue(values,l198):l5.value;
})();
});
FUNC.fname='CLOSE-DEFINE-RULE';
FUNC.docstring="Try to close define-rule widget.\nIf `*define-rule-stack*' is empty, close;\nor if not empty, show new. ";
return FUNC;
})();
l196;
var l199=internals.intern('SHOW-UTILS','IIIIKA/WEB');
var l200=internals.make_lisp_string('utils-about');
var l201=internals.intern('ABOUT-MSG','KEYWORD');
l201.value=l201;
var l202=internals.make_lisp_string('utils-dump');
var l203=internals.intern('DUMP','KEYWORD');
l203.value=l203;
var l204=internals.QIList(l203,l192,l5);
var l205=internals.make_lisp_string('utils-load');
var l206=internals.intern('LOAD','KEYWORD');
l206.value=l206;
var l207=internals.QIList(l206,l192,l5);
var l208=internals.make_lisp_string('utils-repo');
var l209=internals.intern('REPO','KEYWORD');
l209.value=l209;
var l210=internals.QIList(internals.make_lisp_string('Github'),l209,l5);
var l211=internals.make_lisp_string('utils-close');
var l212=internals.make_lisp_string('utils');
l199.fvalue=(function(){var FUNC=(function JSCL_USER_SHOWUTILS(values){internals.checkArgsAtMost(arguments.length-1,0);
var v449=this;
return (function(){(function(){var v452=l24.fvalue(internals.pv,l200);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v454){switch(arguments.length-1){case 0:v454=l5.value;
;
default:break;
}var v453=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v453=new internals.Cons(arguments[I+1],v453);
var v455=this;
return l133.fvalue(values,v454,l24.fvalue(internals.pv,l200));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l201.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v457=l24.fvalue(internals.pv,l202);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v459){switch(arguments.length-1){case 0:v459=l5.value;
;
default:break;
}var v458=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v458=new internals.Cons(arguments[I+1],v458);
var v460=this;
return l133.fvalue(values,v459,l24.fvalue(internals.pv,l202));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l204);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v462=l24.fvalue(internals.pv,l205);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v464){switch(arguments.length-1){case 0:v464=l5.value;
;
default:break;
}var v463=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v463=new internals.Cons(arguments[I+1],v463);
var v465=this;
return l133.fvalue(values,v464,l24.fvalue(internals.pv,l205));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l207);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v467=l24.fvalue(internals.pv,l208);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v469){switch(arguments.length-1){case 0:v469=l5.value;
;
default:break;
}var v468=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v468=new internals.Cons(arguments[I+1],v468);
var v470=this;
return l133.fvalue(values,v469,l24.fvalue(internals.pv,l208));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l210);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
(function(){var v472=l24.fvalue(internals.pv,l211);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v474){switch(arguments.length-1){case 0:v474=l5.value;
;
default:break;
}var v473=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v473=new internals.Cons(arguments[I+1],v473);
var v475=this;
return l133.fvalue(values,v474,l24.fvalue(internals.pv,l211));
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l49.fvalue(values,l170.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
return l66.fvalue(values,l212);
})();
});
FUNC.fname='SHOW-UTILS';
FUNC.docstring='Popup utils widgets. ';
return FUNC;
})();
l199;
var l213=internals.intern('MAIN','IIIIKA/WEB');
var l214=internals.make_lisp_string('name');
var l215=internals.make_lisp_string('click');
var l216=internals.make_lisp_string('detail');
var l217=internals.make_lisp_string('byname-adj');
var l218=internals.intern('CN-ZH','KEYWORD');
l218.value=l218;
var l219=internals.intern('GET-BYNAME--AREF','IIIIKA/WEB');
var l220=internals.make_lisp_string('detail');
var l221=internals.intern('NOUN','KEYWORD');
l221.value=l221;
var l222=internals.make_lisp_string('byname-noun');
var l223=internals.make_lisp_string('byname-adj');
var l224=internals.make_lisp_string('click');
var l225=internals.make_lisp_string('byname-noun');
var l226=internals.make_lisp_string('click');
var l227=internals.intern('SORRY','KEYWORD');
l227.value=l227;
var l228=internals.intern('BADGE','KEYWORD');
l228.value=l228;
var l229=internals.intern('*-IS-WORKING','KEYWORD');
l229.value=l229;
var l230=internals.QIList(l227,l228,l229,l5);
var l231=internals.make_lisp_string('badge-1');
var l232=internals.make_lisp_string('click');
var l233=internals.make_lisp_string('badge-2');
var l234=internals.make_lisp_string('click');
var l235=internals.make_lisp_string('badge-3');
var l236=internals.make_lisp_string('click');
var l237=internals.make_lisp_string('byname-select-cancel');
var l238=internals.make_lisp_string('click');
var l239=internals.make_lisp_string('byname-select');
var l240=internals.make_lisp_string('byname-select-add');
var l241=internals.make_lisp_string('click');
var l242=internals.QIList(l227,l206,l139,l229,l5);
var l243=internals.make_lisp_string('query-name-kbd');
var l244=internals.make_lisp_string('click');
var l245=internals.make_lisp_string('query-name-keyboard');
var l246=internals.make_lisp_string('query-name-kbd');
var l247=internals.make_lisp_string('query-name-cancel');
var l248=internals.make_lisp_string('click');
var l249=internals.make_lisp_string('query-name-keyboard');
var l250=internals.make_lisp_string('query-name-kbd');
var l251=internals.make_lisp_string('query-name');
var l252=internals.make_lisp_string('query-name-confirm');
var l253=internals.make_lisp_string('click');
var l254=internals.make_lisp_string('query-name-input');
var l255=internals.make_lisp_string('name');
var l256=internals.make_lisp_string('CLICK ME');
var l257=internals.make_lisp_string('query-name-keyboard');
var l258=internals.make_lisp_string('query-name-kbd');
var l259=internals.make_lisp_string('query-name');
var l260=internals.make_lisp_string('query-name-input');
var l261=internals.make_lisp_string('input');
var l262=internals.make_lisp_string('query-name-input');
var l263=internals.make_lisp_string('query-name-message');
var l264=internals.make_lisp_string('...');
var l265=internals.make_lisp_string('defrule-kbd');
var l266=internals.make_lisp_string('click');
var l267=internals.make_lisp_string('defrule-keyboard');
var l268=internals.make_lisp_string('defrule-kbd');
var l269=internals.make_lisp_string('defrule-cancel');
var l270=internals.make_lisp_string('click');
var l271=internals.make_lisp_string('defrule-confirm');
var l272=internals.make_lisp_string('click');
var l273=internals.make_lisp_string('defrule-from');
var l274=internals.intern('TEXT','IIIIKA/WEB');
var l275=internals.make_lisp_string('defrule-to');
var l276=internals.make_lisp_string('query-name-input');
var l277=internals.make_lisp_string('query-name-message');
var l278=internals.make_lisp_string('...');
var l279=internals.make_lisp_string('defrule-input');
var l280=internals.make_lisp_string('input');
var l281=internals.make_lisp_string('defrule-input');
var l282=internals.make_lisp_string('defrule-to');
var l283=internals.make_lisp_string('ロ');
var l284=internals.make_lisp_string('alert-button');
var l285=internals.make_lisp_string('click');
var l286=internals.make_lisp_string('alert');
var l287=internals.make_lisp_string('iiiika');
var l288=internals.make_lisp_string('click');
var l289=internals.make_lisp_string('utils-close');
var l290=internals.make_lisp_string('click');
var l291=internals.make_lisp_string('utils');
var l292=internals.QIList(l227,l228,l229,l5);
var l293=internals.make_lisp_string('utils-title');
var l294=internals.make_lisp_string('click');
var l295=internals.make_lisp_string('utils-load');
var l296=internals.make_lisp_string('click');
var l297=internals.make_lisp_string('utils-repo');
var l298=internals.make_lisp_string('click');
var l299=internals.make_lisp_string('query-name-sets');
var l300=internals.make_lisp_string('query-name-kbd-container');
var l301=internals.make_lisp_string('query-name-input');
var l302=internals.make_lisp_string('query-name-message');
var l303=internals.make_lisp_string('defrule-sets');
var l304=internals.make_lisp_string('defrule-kbd-container');
var l305=internals.make_lisp_string('defrule-input');
var l306=internals.make_lisp_string('defrule-to');
l213.fvalue=(function(){var FUNC=(function JSCL_USER_MAIN(values){internals.checkArgsAtMost(arguments.length-1,0);
var v476=this;
return (function(){(function(){var v478=[];
try{var v479=l24.fvalue(internals.pv,l214);
var v480=v479;
l44.stack.push(l44.value);
v478.push(l44);
l44.value=v480;
return l47.fvalue(internals.pv,v479,l215,(function JSCL_USER_NIL(values,v481){internals.checkArgs(arguments.length-1,1);
var v482=this;
return l158.fvalue(values);
}));
}finally{v478.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(v499,v500){l47.fvalue(internals.pv,l24.fvalue(internals.pv,l223),l224,v499);
l47.fvalue(internals.pv,l24.fvalue(internals.pv,l225),l226,v500);
v499(internals.pv);
return v500(internals.pv);
})((function JSCL_USER_NIL(values,v483){internals.checkArgsAtMost(arguments.length-1,1);
switch(arguments.length-1){case 0:v483=l5.value;
;
default:break;
}var v484=this;
return (function(){return (v483!==l5.value?(function(){var x1=internals.js_to_lisp((function(){var TMP=v483[internals.xstring(l216)];
return TMP===undefined?l5.value:TMP;
})());
if (typeof x1!='number') throw 'Not a number!';
return x1==2?l11.value:l5.value;
})():l5.value)!==l5.value?l137.fvalue(values,l147.value):(function(){var v487=l24.fvalue(internals.pv,l217);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v489){switch(arguments.length-1){case 0:v489=l5.value;
;
default:break;
}var v488=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v488=new internals.Cons(arguments[I+1],v488);
var v490=this;
return l133.fvalue(values,v489,l24.fvalue(internals.pv,l217));
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l219.fvalue(values,0,l5.value,l218.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})();
}),(function JSCL_USER_NIL(values,v491){internals.checkArgsAtMost(arguments.length-1,1);
switch(arguments.length-1){case 0:v491=l5.value;
;
default:break;
}var v492=this;
return (function(){return (v491!==l5.value?(function(){var x1=internals.js_to_lisp((function(){var TMP=v491[internals.xstring(l220)];
return TMP===undefined?l5.value:TMP;
})());
if (typeof x1!='number') throw 'Not a number!';
return x1==2?l11.value:l5.value;
})():l5.value)!==l5.value?l137.fvalue(values,l221.value):(function(){var v495=l24.fvalue(internals.pv,l222);
return (function(){var FUNC=(function JSCL_USER_NIL(values,v497){switch(arguments.length-1){case 0:v497=l5.value;
;
default:break;
}var v496=l5.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v496=new internals.Cons(arguments[I+1],v496);
var v498=this;
return l133.fvalue(values,v497,l24.fvalue(internals.pv,l222));
});
var ARGS=[values];
return (function(){var values=internals.mv;
var VS;
VS=l219.fvalue(values,1,l5.value,l218.value);
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})();
}));
(function(v504){l47.fvalue(internals.pv,l24.fvalue(internals.pv,l231),l232,v504);
l47.fvalue(internals.pv,l24.fvalue(internals.pv,l233),l234,v504);
return l47.fvalue(internals.pv,l24.fvalue(internals.pv,l235),l236,v504);
})((function JSCL_USER_NIL(values,v501){internals.checkArgs(arguments.length-1,1);
var v502=this;
return (function(){return l127.fvalue(values,l49.fvalue(internals.pv,l230));
})();
}));
(function(){var v505=[];
try{var v506=l24.fvalue(internals.pv,l237);
var v507=v506;
l44.stack.push(l44.value);
v505.push(l44);
l44.value=v507;
return l47.fvalue(internals.pv,v506,l238,(function JSCL_USER_NIL(values,v508){internals.checkArgs(arguments.length-1,1);
var v509=this;
return l70.fvalue(values,l239);
}));
}finally{v505.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v510=[];
try{var v511=l24.fvalue(internals.pv,l240);
var v512=v511;
l44.stack.push(l44.value);
v510.push(l44);
l44.value=v512;
return l47.fvalue(internals.pv,v511,l241,(function JSCL_USER_NIL(values,v513){internals.checkArgs(arguments.length-1,1);
var v514=this;
return l127.fvalue(values,l49.fvalue(internals.pv,l242));
}));
}finally{v510.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v515=[];
try{var v516=l24.fvalue(internals.pv,l243);
var v517=v516;
l44.stack.push(l44.value);
v515.push(l44);
l44.value=v517;
return l47.fvalue(internals.pv,v516,l244,(function JSCL_USER_NIL(values,v518){internals.checkArgs(arguments.length-1,1);
var v519=this;
return l103.fvalue(values,l245,l246);
}));
}finally{v515.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v520=[];
try{var v521=l24.fvalue(internals.pv,l247);
var v522=v521;
l44.stack.push(l44.value);
v520.push(l44);
l44.value=v522;
return l47.fvalue(internals.pv,v521,l248,(function JSCL_USER_NIL(values,v523){internals.checkArgs(arguments.length-1,1);
var v524=this;
l103.fvalue(internals.pv,l249,l250,l11.value);
return l70.fvalue(values,l251);
}));
}finally{v520.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v525=[];
try{var v526=l24.fvalue(internals.pv,l252);
var v527=v526;
l44.stack.push(l44.value);
v525.push(l44);
l44.value=v527;
return l47.fvalue(internals.pv,v526,l253,(function JSCL_USER_NIL(values,v528){internals.checkArgs(arguments.length-1,1);
var v529=this;
l19.fvalue(internals.pv,l254,l255,l20.value,l256,l22.value,l5.value,l23.value,l11.value);
l103.fvalue(internals.pv,l257,l258,l11.value);
return l70.fvalue(values,l259);
}));
}finally{v525.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v530=[];
try{var v531=l24.fvalue(internals.pv,l260);
var v532=v531;
l44.stack.push(l44.value);
v530.push(l44);
l44.value=v532;
return l47.fvalue(internals.pv,v531,l261,(function JSCL_USER_NIL(values,v533){internals.checkArgs(arguments.length-1,1);
var v534=this;
return l19.fvalue(values,l262,l263,l20.value,l264,l22.value,l11.value,l23.value,l11.value);
}));
}finally{v530.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v535=[];
try{var v536=l24.fvalue(internals.pv,l265);
var v537=v536;
l44.stack.push(l44.value);
v535.push(l44);
l44.value=v537;
return l47.fvalue(internals.pv,v536,l266,(function JSCL_USER_NIL(values,v538){internals.checkArgs(arguments.length-1,1);
var v539=this;
return l103.fvalue(values,l267,l268);
}));
}finally{v535.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v540=[];
try{var v541=l24.fvalue(internals.pv,l269);
var v542=v541;
l44.stack.push(l44.value);
v540.push(l44);
l44.value=v542;
return l47.fvalue(internals.pv,v541,l270,(function JSCL_USER_NIL(values,v543){internals.checkArgs(arguments.length-1,1);
var v544=this;
return l196.fvalue(values);
}));
}finally{v540.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v545=[];
try{var v546=l24.fvalue(internals.pv,l271);
var v547=v546;
l44.stack.push(l44.value);
v545.push(l44);
l44.value=v547;
return l47.fvalue(internals.pv,v546,l272,(function JSCL_USER_NIL(values,v548){internals.checkArgs(arguments.length-1,1);
var v549=this;
l8.fvalue(internals.pv,l156.fvalue(internals.pv,l274.fvalue(internals.pv,l24.fvalue(internals.pv,l273)),0),l274.fvalue(internals.pv,l24.fvalue(internals.pv,l275)));
l19.fvalue(internals.pv,l276,l277,l20.value,l278,l22.value,l11.value,l23.value,l11.value);
return l196.fvalue(values);
}));
}finally{v545.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v550=[];
try{var v551=l24.fvalue(internals.pv,l279);
var v552=v551;
l44.stack.push(l44.value);
v550.push(l44);
l44.value=v552;
return l47.fvalue(internals.pv,v551,l280,(function JSCL_USER_NIL(values,v553){internals.checkArgs(arguments.length-1,1);
var v554=this;
return l19.fvalue(values,l281,l282,l20.value,l283,l22.value,l11.value,l23.value,l11.value);
}));
}finally{v550.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v555=[];
try{var v556=l24.fvalue(internals.pv,l284);
var v557=v556;
l44.stack.push(l44.value);
v555.push(l44);
l44.value=v557;
return l47.fvalue(internals.pv,v556,l285,(function JSCL_USER_NIL(values,v558){internals.checkArgs(arguments.length-1,1);
var v559=this;
return l70.fvalue(values,l286);
}));
}finally{v555.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v560=[];
try{var v561=l24.fvalue(internals.pv,l287);
var v562=v561;
l44.stack.push(l44.value);
v560.push(l44);
l44.value=v562;
return l47.fvalue(internals.pv,v561,l288,(function JSCL_USER_NIL(values,v563){internals.checkArgs(arguments.length-1,1);
var v564=this;
return l199.fvalue(values);
}));
}finally{v560.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(){var v565=[];
try{var v566=l24.fvalue(internals.pv,l289);
var v567=v566;
l44.stack.push(l44.value);
v565.push(l44);
l44.value=v567;
return l47.fvalue(internals.pv,v566,l290,(function JSCL_USER_NIL(values,v568){internals.checkArgs(arguments.length-1,1);
var v569=this;
return l70.fvalue(values,l291);
}));
}finally{v565.forEach((function(S){S.value=S.stack.pop();
}));
}})();
(function(v573){l47.fvalue(internals.pv,l24.fvalue(internals.pv,l293),l294,v573);
l47.fvalue(internals.pv,l24.fvalue(internals.pv,l295),l296,v573);
return l47.fvalue(internals.pv,l24.fvalue(internals.pv,l297),l298,v573);
})((function JSCL_USER_NIL(values,v570){internals.checkArgs(arguments.length-1,1);
var v571=this;
return (function(){return l127.fvalue(values,l49.fvalue(internals.pv,l292));
})();
}));
l114.fvalue(internals.pv,l299,l300,l301,l302);
return l114.fvalue(values,l303,l304,l305,l306);
})();
});
FUNC.fname='MAIN';
FUNC.docstring='Binds all the events to front-end UI. ';
return FUNC;
})();
l213;
l213.fvalue(internals.pv);
})(jscl.internals.pv, jscl.internals);
})( typeof require !== 'undefined'? require('./jscl'): window.jscl )
